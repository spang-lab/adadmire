name: Deploy
on: {push: {branches: [main, auto-release]}}
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - {name: Checkout repo, uses: actions/checkout@v3}
      - {name: Setup python, uses: actions/setup-python@v3, with: {python-version: '3.x'}}
      - {name: Install dependencies, run: "pip install -r requirements.txt"}
      - {name: Create tag, run: "python scripts/create_gh_tag.py"}
      - {name: Create release, run: "python scripts/create_gh_tag.py"}
      - {name: Publish to PyPI, run: publish scripts/publish_to_pypi.py}
